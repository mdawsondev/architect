!function(n){var t={};function e(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return n[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,o){e.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:o})},e.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e.w={},e(e.s=9)}([function(n,t){n.exports=require("child_process")},function(n,t){(function(t){n.exports={owner:"John Smith",title:"New Project",pathTitle:"new-project",about:"About my project...",license:"MIT",location:t,git:1,hub:0,commit:0,push:0}}).call(this,"/")},function(n,t){n.exports=require("fs")},function(n,t){n.exports=require("dns")},function(n,t){n.exports=require("readline")},function(n,t){n.exports={MIT:'MIT License\nCopyright (c) 2018 USERNAME\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the "Software"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.',none:'This is free and unencumbered software released into the public domain.\n\nAnyone is free to copy, modify, publish, use, compile, sell, or\ndistribute this software, either in source code form or as a compiled\nbinary, for any purpose, commercial or non-commercial, and by any\nmeans.\n\nIn jurisdictions that recognize copyright laws, the author or authors\nof this software dedicate any and all copyright interest in the\nsoftware to the public domain. We make this dedication for the benefit\nof the public at large and to the detriment of our heirs and\nsuccessors. We intend this dedication to be an overt act of\nrelinquishment in perpetuity of all present and future rights to this\nsoftware under copyright law.\n\nTHE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\nOTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\nARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\nOTHER DEALINGS IN THE SOFTWARE.\n\nFor more information, please refer to <http://unlicense.org>'}},function(n,t,e){const o=e(1);n.exports=[[`\nquestion your name (${o.owner}): `,"owner"],[`question project title (${o.title}): `,"title"],[`question about (${o.about}): `,"about"],[`question license (${o.license}): `,"license"],[`question location (${o.location}): `,"location"],["question git init (Y/n): ","git"],["question init commit (y/N): ","commit"],["question hub init (y/N): ","hub"],["question init push (y/N): ","push"]]},function(n,t,e){"use strict";var o=e(0).exec,i=e(0).execSync,r=e(2),c=r.access,s=r.accessSync,u=r.constants||r,a="win32"==process.platform,l=function(n,t){!function(n,t){c(n,u.F_OK,function(n){t(!n)})}(n,function(e){if(e)!function(n,t){c(n,u.F_OK|u.X_OK,function(n){t(null,!n)})}(n,t);else o("command -v "+n+" 2>/dev/null && { echo >&1 '"+n+" found'; exit 0; }",function(n,e,o){t(null,!!e)})})},f=function(n){if(function(n){try{return s(n,u.F_OK),!1}catch(n){return!0}}(n))try{return!!i("command -v "+n+" 2>/dev/null && { echo >&1 '"+n+" found'; exit 0; }")}catch(n){return!1}return function(n){try{return s(n,u.F_OK|u.X_OK),!0}catch(n){return!1}}(n)};n.exports=function n(t,e){if(!e&&"undefined"!=typeof Promise)return new Promise(function(e,o){n(t,function(n,i){i?e(t):o(n)})});a?function(n,t){o("where "+n,function(n){t(null,null===n)})}(t,e):l(t,e)},n.exports.sync=function(n){return a?function(n,t){try{return!!i("where "+n)}catch(n){return!1}}(n):f(n)}},function(n,t,e){n.exports=e(7)},function(n,t,e){"use strict";var o=e(8).sync,i=e(1),r=e(6),c=e(5),s=e(2),u=e(4).createInterface({input:process.stdin,output:process.stdout}),a=e(0).exec,l=e(3),f=o("git")?1:0,h=o("hub")?1:0,E={};function T(n){E.git&&E.commit?a("cd "+n+' && git add -A && git commit -m "Initial commit"',function(){console.log("-> First commit created!"),E.hub&&I(n)}):E.hub&&I(n)}function O(n){f&&E.hub?a("cd "+n+" && hub create "+E.titlePath,function(){console.log('-> Created repo "'+E.titlePath+'" on GitHub!'),function(n){E.push&&a("cd "+n+" && git push origin master",function(){console.log("-> Pushed initial commit to GitHub!"),d()})}(n)}):d()}function I(n){console.log("-- Checking internet connection."),l.resolve("www.google.com",function(t){t?console.log("-X ERROR: NO CONNECTION ESTABLISHED."):(console.log("-> Connection found!"),O(n))})}function d(){console.log("\nProject "+E.title+" has completed setup, now exiting script.\n")}!function n(t){var e=t[0][0],o=t[0][1];u.question(e,function(t){E[o]=t||i[o],r.shift(),r.length>0?n(r):(u.close(),function(){var n,t,e=["MIT","none"];for(var o in E)switch(o){case"license":-1===e.indexOf(E.license)&&(E.license="MIT");break;case"title":E.titlePath=E[o].toLowerCase().replace(/ /g,"-").trim();break;case"git":case"commit":case"hub":case"push":"y"===E[o]?E[o]=1:E[o]=0}n=E.location+"/"+E.titlePath,console.log(""),!s.existsSync(n)&&s.mkdirSync(n),console.log("-> Built folder!"),s.appendFile(n+"/LICENSE",""+c[E.license].replace("USERNAME",E.owner),function(n){if(n)throw n}),console.log("-> Created LICENSE!"),s.appendFile(n+"/README.md","# "+E.title+"\n\n"+E.about,function(n){if(n)throw n}),console.log("-> Created README.md!"),t=n,h&&E.git?a("git init "+t,function(){console.log("-> Initialized git!"),T(t)}):T(t)}())})}(r)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiY2hpbGRfcHJvY2Vzc1wiIiwid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvZGVmYXVsdHMuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiZnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkbnNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJyZWFkbGluZVwiIiwid2VicGFjazovLy8uL3NyYy9yZXNvdXJjZXMvbGljZW5zZXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jlc291cmNlcy9xdWVzdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbW1hbmQtZXhpc3RzL2xpYi9jb21tYW5kLWV4aXN0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29tbWFuZC1leGlzdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsInZhbHVlIiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInciLCJzIiwicmVxdWlyZSIsIl9fZGlybmFtZSIsIm93bmVyIiwidGl0bGUiLCJwYXRoVGl0bGUiLCJhYm91dCIsImxpY2Vuc2UiLCJsb2NhdGlvbiIsImdpdCIsImh1YiIsImNvbW1pdCIsInB1c2giLCJNSVQiLCJub25lIiwiZGVmYXVsdHMiLCJleGVjIiwiZXhlY1N5bmMiLCJmcyIsImFjY2VzcyIsImFjY2Vzc1N5bmMiLCJjb25zdGFudHMiLCJpc1VzaW5nV2luZG93cyIsInByb2Nlc3MiLCJwbGF0Zm9ybSIsImNvbW1hbmRFeGlzdHNVbml4IiwiY29tbWFuZE5hbWUiLCJjYWxsYmFjayIsIkZfT0siLCJlcnIiLCJmaWxlTm90RXhpc3RzIiwiaXNGaWxlIiwiWF9PSyIsImxvY2FsRXhlY3V0YWJsZSIsImVycm9yIiwic3Rkb3V0Iiwic3RkZXJyIiwiY29tbWFuZEV4aXN0c1VuaXhTeW5jIiwiZSIsImZpbGVOb3RFeGlzdHNTeW5jIiwibG9jYWxFeGVjdXRhYmxlU3luYyIsImNvbW1hbmRFeGlzdHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIm91dHB1dCIsImNvbW1hbmRFeGlzdHNXaW5kb3dzIiwic3luYyIsImNvbW1hbmRFeGlzdHNXaW5kb3dzU3luYyIsImNtZEV4aXN0cyIsInF1ZXN0aW9ucyIsImxpY2Vuc2VzIiwicmwiLCJjcmVhdGVJbnRlcmZhY2UiLCJpbnB1dCIsInN0ZGluIiwiY21kIiwiZG5zIiwiaGFzSHViIiwiaGFzR2l0Iiwic2V0dGluZ3MiLCJjaGVja0NvbW1pdCIsImNvbnNvbGUiLCJsb2ciLCJoYXNJbnRlcm5ldCIsImNoZWNrSHViIiwidGl0bGVQYXRoIiwiZXhpdE1lc3NhZ2UiLCJjaGVja1B1c2giLCJhc2tRdWVzdGlvbnMiLCJxIiwicmVxIiwicmVxVHlwZSIsInF1ZXN0aW9uIiwiYW5zIiwic2hpZnQiLCJsZW5ndGgiLCJjbG9zZSIsInJvdXRlIiwibGljZW5zZUxpc3QiLCJpbmRleE9mIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwidHJpbSIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJhcHBlbmRGaWxlIiwicHJvY2Vzc0Fuc3dlcnMiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBTUEsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcs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V0FBV04sSUFBVTVELEVBQUdtRSxVQUFVUCxHQUN0Q2hCLFFBQVFDLElBQUksb0JBRVo3QyxFQUFHb0UsV0FBY1IsRUFBSyxXQUNwQixHQUFHM0IsRUFBU1MsRUFBU3JELFNBQVMyRSxRQUFRLFdBQVl0QixFQUFTekQsT0FDM0QsU0FBQzBCLEdBQWUsR0FBSUEsRUFBSyxNQUFNQSxJQUNqQ2lDLFFBQVFDLElBQUksdUJBRVo3QyxFQUFHb0UsV0FBY1IsRUFBSyxhQUNwQixLQUFLbEIsRUFBU3hELE1BQUssT0FBT3dELEVBQVN0RCxNQUNuQyxTQUFDdUIsR0FBZSxHQUFJQSxFQUFLLE1BQU1BLElBQ2pDaUMsUUFBUUMsSUFBSSx5QkFPSXpFLEVBTFB3RixFQU1MbkIsR0FBVUMsRUFBU25ELElBQ3JCK0MsRUFBSSxZQUFZbEUsRUFBSyxXQUNuQndFLFFBQVFDLElBQUksdUJBQ1pGLEVBQVl2RSxLQUdkdUUsRUFBWXZFLEdBdERvRGlHLE1BVGxFbEIsQ0FBYW5CIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgd2FzbSBtb2R1bGVzXG4gXHR2YXIgaW5zdGFsbGVkV2FzbU1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIG9iamVjdCB3aXRoIGFsbCBjb21waWxlZCBXZWJBc3NlbWJseS5Nb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLncgPSB7fTtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwiY2hpbGRfcHJvY2Vzc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHtcclxuICBvd25lcjogXCJKb2huIFNtaXRoXCIsXHJcbiAgdGl0bGU6IFwiTmV3IFByb2plY3RcIixcclxuICBwYXRoVGl0bGU6IFwibmV3LXByb2plY3RcIixcclxuICBhYm91dDogXCJBYm91dCBteSBwcm9qZWN0Li4uXCIsXHJcbiAgbGljZW5zZTogXCJNSVRcIixcclxuICBsb2NhdGlvbjogX19kaXJuYW1lLFxyXG4gIGdpdDogMSxcclxuICBodWI6IDAsXHJcbiAgY29tbWl0OiAwLFxyXG4gIHB1c2g6IDBcclxufTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJmc1wiKTsiLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJkbnNcIik7IiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKFwicmVhZGxpbmVcIik7IiwibW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgTUlUOiBgTUlUIExpY2Vuc2VcclxuQ29weXJpZ2h0IChjKSAyMDE4IFVTRVJOQU1FXHJcblxyXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XHJcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcclxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xyXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXHJcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xyXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxyXG5cclxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXHJcbmNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXHJcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxyXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcclxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxyXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxyXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRVxyXG5TT0ZUV0FSRS5gLFxyXG4gIG5vbmU6IGBUaGlzIGlzIGZyZWUgYW5kIHVuZW5jdW1iZXJlZCBzb2Z0d2FyZSByZWxlYXNlZCBpbnRvIHRoZSBwdWJsaWMgZG9tYWluLlxyXG5cclxuQW55b25lIGlzIGZyZWUgdG8gY29weSwgbW9kaWZ5LCBwdWJsaXNoLCB1c2UsIGNvbXBpbGUsIHNlbGwsIG9yXHJcbmRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSwgZWl0aGVyIGluIHNvdXJjZSBjb2RlIGZvcm0gb3IgYXMgYSBjb21waWxlZFxyXG5iaW5hcnksIGZvciBhbnkgcHVycG9zZSwgY29tbWVyY2lhbCBvciBub24tY29tbWVyY2lhbCwgYW5kIGJ5IGFueVxyXG5tZWFucy5cclxuXHJcbkluIGp1cmlzZGljdGlvbnMgdGhhdCByZWNvZ25pemUgY29weXJpZ2h0IGxhd3MsIHRoZSBhdXRob3Igb3IgYXV0aG9yc1xyXG5vZiB0aGlzIHNvZnR3YXJlIGRlZGljYXRlIGFueSBhbmQgYWxsIGNvcHlyaWdodCBpbnRlcmVzdCBpbiB0aGVcclxuc29mdHdhcmUgdG8gdGhlIHB1YmxpYyBkb21haW4uIFdlIG1ha2UgdGhpcyBkZWRpY2F0aW9uIGZvciB0aGUgYmVuZWZpdFxyXG5vZiB0aGUgcHVibGljIGF0IGxhcmdlIGFuZCB0byB0aGUgZGV0cmltZW50IG9mIG91ciBoZWlycyBhbmRcclxuc3VjY2Vzc29ycy4gV2UgaW50ZW5kIHRoaXMgZGVkaWNhdGlvbiB0byBiZSBhbiBvdmVydCBhY3Qgb2ZcclxucmVsaW5xdWlzaG1lbnQgaW4gcGVycGV0dWl0eSBvZiBhbGwgcHJlc2VudCBhbmQgZnV0dXJlIHJpZ2h0cyB0byB0aGlzXHJcbnNvZnR3YXJlIHVuZGVyIGNvcHlyaWdodCBsYXcuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELFxyXG5FWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0ZcclxuTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULlxyXG5JTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUlxyXG5PVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSxcclxuQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SXHJcbk9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cclxuXHJcbkZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgcmVmZXIgdG8gPGh0dHA6Ly91bmxpY2Vuc2Uub3JnPmBcclxufVxyXG4iLCJjb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gW1xyXG4gIFtgXFxucXVlc3Rpb24geW91ciBuYW1lICgke2RlZmF1bHRzLm93bmVyfSk6IGAsIFwib3duZXJcIl0sXHJcbiAgW2BxdWVzdGlvbiBwcm9qZWN0IHRpdGxlICgke2RlZmF1bHRzLnRpdGxlfSk6IGAsIFwidGl0bGVcIl0sXHJcbiAgW2BxdWVzdGlvbiBhYm91dCAoJHtkZWZhdWx0cy5hYm91dH0pOiBgLCBcImFib3V0XCJdLFxyXG4gIFtgcXVlc3Rpb24gbGljZW5zZSAoJHtkZWZhdWx0cy5saWNlbnNlfSk6IGAsIFwibGljZW5zZVwiXSxcclxuICBbYHF1ZXN0aW9uIGxvY2F0aW9uICgke2RlZmF1bHRzLmxvY2F0aW9ufSk6IGAsIFwibG9jYXRpb25cIl0sXHJcbiAgW2BxdWVzdGlvbiBnaXQgaW5pdCAoWS9uKTogYCwgXCJnaXRcIl0sXHJcbiAgW2BxdWVzdGlvbiBpbml0IGNvbW1pdCAoeS9OKTogYCwgXCJjb21taXRcIl0sXHJcbiAgW2BxdWVzdGlvbiBodWIgaW5pdCAoeS9OKTogYCwgXCJodWJcIl0sXHJcbiAgW2BxdWVzdGlvbiBpbml0IHB1c2ggKHkvTik6IGAsIFwicHVzaFwiXVxyXG5dOyIsIid1c2Ugc3RyaWN0JztcblxudmFyIGV4ZWMgPSByZXF1aXJlKCdjaGlsZF9wcm9jZXNzJykuZXhlYztcbnZhciBleGVjU3luYyA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKS5leGVjU3luYztcbnZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgYWNjZXNzID0gZnMuYWNjZXNzO1xudmFyIGFjY2Vzc1N5bmMgPSBmcy5hY2Nlc3NTeW5jO1xudmFyIGNvbnN0YW50cyA9IGZzLmNvbnN0YW50cyB8fCBmcztcblxudmFyIGlzVXNpbmdXaW5kb3dzID0gcHJvY2Vzcy5wbGF0Zm9ybSA9PSAnd2luMzInXG5cbnZhciBmaWxlTm90RXhpc3RzID0gZnVuY3Rpb24oY29tbWFuZE5hbWUsIGNhbGxiYWNrKXtcbiAgICBhY2Nlc3MoY29tbWFuZE5hbWUsIGNvbnN0YW50cy5GX09LLFxuICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgIGNhbGxiYWNrKCFlcnIpO1xuICAgIH0pO1xufTtcblxudmFyIGZpbGVOb3RFeGlzdHNTeW5jID0gZnVuY3Rpb24oY29tbWFuZE5hbWUpe1xuICAgIHRyeXtcbiAgICAgICAgYWNjZXNzU3luYyhjb21tYW5kTmFtZSwgY29uc3RhbnRzLkZfT0spO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfWNhdGNoKGUpe1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59O1xuXG52YXIgbG9jYWxFeGVjdXRhYmxlID0gZnVuY3Rpb24oY29tbWFuZE5hbWUsIGNhbGxiYWNrKXtcbiAgICBhY2Nlc3MoY29tbWFuZE5hbWUsIGNvbnN0YW50cy5GX09LIHwgY29uc3RhbnRzLlhfT0ssXG4gICAgICAgIGZ1bmN0aW9uKGVycil7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsICFlcnIpO1xuICAgIH0pO1xufTtcblxudmFyIGxvY2FsRXhlY3V0YWJsZVN5bmMgPSBmdW5jdGlvbihjb21tYW5kTmFtZSl7XG4gICAgdHJ5e1xuICAgICAgICBhY2Nlc3NTeW5jKGNvbW1hbmROYW1lLCBjb25zdGFudHMuRl9PSyB8IGNvbnN0YW50cy5YX09LKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfWNhdGNoKGUpe1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuXG52YXIgY29tbWFuZEV4aXN0c1VuaXggPSBmdW5jdGlvbihjb21tYW5kTmFtZSwgY2FsbGJhY2spIHtcblxuICAgIGZpbGVOb3RFeGlzdHMoY29tbWFuZE5hbWUsIGZ1bmN0aW9uKGlzRmlsZSl7XG5cbiAgICAgICAgaWYoIWlzRmlsZSl7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSBleGVjKCdjb21tYW5kIC12ICcgKyBjb21tYW5kTmFtZSArXG4gICAgICAgICAgICAgICAgICAnIDI+L2Rldi9udWxsJyArXG4gICAgICAgICAgICAgICAgICAnICYmIHsgZWNobyA+JjEgXFwnJyArIGNvbW1hbmROYW1lICsgJyBmb3VuZFxcJzsgZXhpdCAwOyB9JyxcbiAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChlcnJvciwgc3Rkb3V0LCBzdGRlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCAhIXN0ZG91dCk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxvY2FsRXhlY3V0YWJsZShjb21tYW5kTmFtZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuXG59XG5cbnZhciBjb21tYW5kRXhpc3RzV2luZG93cyA9IGZ1bmN0aW9uKGNvbW1hbmROYW1lLCBjYWxsYmFjaykge1xuICB2YXIgY2hpbGQgPSBleGVjKCd3aGVyZSAnICsgY29tbWFuZE5hbWUsXG4gICAgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgIT09IG51bGwpe1xuICAgICAgICBjYWxsYmFjayhudWxsLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB0cnVlKTtcbiAgICAgIH1cbiAgICB9XG4gIClcbn1cblxudmFyIGNvbW1hbmRFeGlzdHNVbml4U3luYyA9IGZ1bmN0aW9uKGNvbW1hbmROYW1lKSB7XG4gIGlmKGZpbGVOb3RFeGlzdHNTeW5jKGNvbW1hbmROYW1lKSl7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgc3Rkb3V0ID0gZXhlY1N5bmMoJ2NvbW1hbmQgLXYgJyArIGNvbW1hbmROYW1lICtcbiAgICAgICAgICAgICAgJyAyPi9kZXYvbnVsbCcgK1xuICAgICAgICAgICAgICAnICYmIHsgZWNobyA+JjEgXFwnJyArIGNvbW1hbmROYW1lICsgJyBmb3VuZFxcJzsgZXhpdCAwOyB9J1xuICAgICAgICAgICAgICApO1xuICAgICAgICByZXR1cm4gISFzdGRvdXQ7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gbG9jYWxFeGVjdXRhYmxlU3luYyhjb21tYW5kTmFtZSk7XG5cbn1cblxudmFyIGNvbW1hbmRFeGlzdHNXaW5kb3dzU3luYyA9IGZ1bmN0aW9uKGNvbW1hbmROYW1lLCBjYWxsYmFjaykge1xuICB0cnkge1xuICAgICAgdmFyIHN0ZG91dCA9IGV4ZWNTeW5jKCd3aGVyZSAnICsgY29tbWFuZE5hbWUpO1xuICAgICAgcmV0dXJuICEhc3Rkb3V0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gY29tbWFuZEV4aXN0cyhjb21tYW5kTmFtZSwgY2FsbGJhY2spIHtcbiAgaWYgKCFjYWxsYmFjayAmJiB0eXBlb2YgUHJvbWlzZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KXtcbiAgICAgIGNvbW1hbmRFeGlzdHMoY29tbWFuZE5hbWUsIGZ1bmN0aW9uKGVycm9yLCBvdXRwdXQpe1xuICAgICAgICBpZiAob3V0cHV0KSB7XG4gICAgICAgICAgcmVzb2x2ZShjb21tYW5kTmFtZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKGlzVXNpbmdXaW5kb3dzKSB7XG4gICAgY29tbWFuZEV4aXN0c1dpbmRvd3MoY29tbWFuZE5hbWUsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHtcbiAgICBjb21tYW5kRXhpc3RzVW5peChjb21tYW5kTmFtZSwgY2FsbGJhY2spO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cy5zeW5jID0gZnVuY3Rpb24oY29tbWFuZE5hbWUpIHtcbiAgaWYgKGlzVXNpbmdXaW5kb3dzKSB7XG4gICAgcmV0dXJuIGNvbW1hbmRFeGlzdHNXaW5kb3dzU3luYyhjb21tYW5kTmFtZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGNvbW1hbmRFeGlzdHNVbml4U3luYyhjb21tYW5kTmFtZSk7XG4gIH1cbn07XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vbGliL2NvbW1hbmQtZXhpc3RzJyk7XG4iLCIndXNlIHN0cmljdCc7XHJcblxyXG5jb25zdCBjbWRFeGlzdHMgPSByZXF1aXJlKCdjb21tYW5kLWV4aXN0cycpLnN5bmMsXHJcbiAgICAgIGRlZmF1bHRzID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMvZGVmYXVsdHMnKSxcclxuICAgICAgcXVlc3Rpb25zID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMvcXVlc3Rpb25zJyksXHJcbiAgICAgIGxpY2Vuc2VzID0gcmVxdWlyZSgnLi9yZXNvdXJjZXMvbGljZW5zZXMnKSxcclxuICAgICAgZnMgPSByZXF1aXJlKCdmcycpLCAvLyBGaWxlIFN5c3RlbVxyXG4gICAgICBybCA9IHJlcXVpcmUoJ3JlYWRsaW5lJykuY3JlYXRlSW50ZXJmYWNlKHsgLy8gUmVhZCBMaW5lXHJcbiAgICAgICAgaW5wdXQ6IHByb2Nlc3Muc3RkaW4sXHJcbiAgICAgICAgb3V0cHV0OiBwcm9jZXNzLnN0ZG91dFxyXG4gICAgICB9KSxcclxuICAgICAgY21kID0gcmVxdWlyZSgnY2hpbGRfcHJvY2VzcycpLmV4ZWMsIC8vIENvbW1hbmQgTGluZVxyXG4gICAgICBkbnMgPSByZXF1aXJlKCdkbnMnKTsgLy8gRE5TIENvbm5lY3Rpb25cclxuXHJcbmxldCBoYXNIdWIgPSBjbWRFeGlzdHMoJ2dpdCcpID8gMSA6IDAsXHJcbiAgICBoYXNHaXQgPSBjbWRFeGlzdHMoJ2h1YicpID8gMSA6IDAsXHJcbiAgICBzZXR0aW5nczogYW55ID0ge307XHJcblxyXG4oZnVuY3Rpb24gaW5pdCgpIHsgLy8gSW5pdGlhbGl6ZSBjb2RlOyBubyByZWFzb24gdG8gYm90aGVyIHdpdGggaW5pdCgpOy5cclxuICBhc2tRdWVzdGlvbnMocXVlc3Rpb25zKTtcclxufSgpKTtcclxuXHJcbmZ1bmN0aW9uIGFza1F1ZXN0aW9ucyhxOiBhbnkpIHtcclxuICAgIGNvbnN0IHJlcSA9IHFbMF1bMF0sXHJcbiAgICAgICAgICByZXFUeXBlID0gcVswXVsxXTtcclxuICAgIHJsLnF1ZXN0aW9uKHJlcSwgKGFuczogYW55KSA9PiB7XHJcbiAgICAgIHNldHRpbmdzW3JlcVR5cGVdID0gYW5zID8gYW5zIDogZGVmYXVsdHNbcmVxVHlwZV07XHJcbiAgICAgIHF1ZXN0aW9ucy5zaGlmdCgpO1xyXG4gICAgICBxdWVzdGlvbnMubGVuZ3RoID4gMCA/IGFza1F1ZXN0aW9ucyhxdWVzdGlvbnMpIDogKHJsLmNsb3NlKCksIHByb2Nlc3NBbnN3ZXJzKCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByb2Nlc3NBbnN3ZXJzKCkge1xyXG4gIGxldCBsaWNlbnNlTGlzdCA9IFtcIk1JVFwiLCBcIm5vbmVcIl07XHJcbiAgZm9yIChsZXQgZSBpbiBzZXR0aW5ncykge1xyXG4gICAgc3dpdGNoIChlKSB7XHJcbiAgICAgIGNhc2UgJ2xpY2Vuc2UnOlxyXG4gICAgICAgIGlmIChsaWNlbnNlTGlzdC5pbmRleE9mKHNldHRpbmdzLmxpY2Vuc2UpID09PSAtMSkgc2V0dGluZ3MubGljZW5zZSA9IFwiTUlUXCI7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ3RpdGxlJzpcclxuICAgICAgICBzZXR0aW5ncy50aXRsZVBhdGggPSBzZXR0aW5nc1tlXS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyAvZywgJy0nKS50cmltKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ2dpdCc6XHJcbiAgICAgIGNhc2UgJ2NvbW1pdCc6XHJcbiAgICAgIGNhc2UgJ2h1Yic6XHJcbiAgICAgIGNhc2UgJ3B1c2gnOlxyXG4gICAgICAgIHNldHRpbmdzW2VdID09PSAneScgPyBzZXR0aW5nc1tlXSA9IDEgOiBzZXR0aW5nc1tlXSA9IDA7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG4gIG91dHB1dCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvdXRwdXQoKSB7XHJcbiAgbGV0IHJvdXRlID0gYCR7c2V0dGluZ3MubG9jYXRpb259LyR7c2V0dGluZ3MudGl0bGVQYXRofWA7XHJcbiAgY29uc29sZS5sb2coXCJcIik7XHJcblxyXG4gICFmcy5leGlzdHNTeW5jKHJvdXRlKSAmJiBmcy5ta2RpclN5bmMocm91dGUpOyAvLyBDcmVhdGUgZm9sZGVyLlxyXG4gIGNvbnNvbGUubG9nKFwiLT4gQnVpbHQgZm9sZGVyIVwiKVxyXG5cclxuICBmcy5hcHBlbmRGaWxlKGAke3JvdXRlfS9MSUNFTlNFYCwgLy8gQ3JlYXRlIExJQ0VOU0UuXHJcbiAgICBgJHtsaWNlbnNlc1tzZXR0aW5ncy5saWNlbnNlXS5yZXBsYWNlKFwiVVNFUk5BTUVcIiwgc2V0dGluZ3Mub3duZXIpfWAsXHJcbiAgICAoZXJyOiBhbnkpID0+IHsgaWYgKGVycikgdGhyb3cgZXJyIH0pO1xyXG4gIGNvbnNvbGUubG9nKFwiLT4gQ3JlYXRlZCBMSUNFTlNFIVwiKVxyXG5cclxuICBmcy5hcHBlbmRGaWxlKGAke3JvdXRlfS9SRUFETUUubWRgLCAvLyBDcmVhdGUgUkVBRE1FLm1kLlxyXG4gICAgYCMgJHtzZXR0aW5ncy50aXRsZX1cXG5cXG4ke3NldHRpbmdzLmFib3V0fWAsXHJcbiAgICAoZXJyOiBhbnkpID0+IHsgaWYgKGVycikgdGhyb3cgZXJyIH0pO1xyXG4gIGNvbnNvbGUubG9nKFwiLT4gQ3JlYXRlZCBSRUFETUUubWQhXCIpXHJcblxyXG4gIGNoZWNrR2l0KHJvdXRlKTtcclxufVxyXG5cclxuLy8gQWxsIGluc3RhbmNlcyBvZiByIGFyZSBcInJvdXRlXCIgZnVubmVsZWQgdGhyb3VnaCBjaGVja0dpdChyb3V0ZSkhXHJcblxyXG5mdW5jdGlvbiBjaGVja0dpdChyOiBhbnkpIHtcclxuICBpZiAoaGFzR2l0ICYmIHNldHRpbmdzLmdpdCkge1xyXG4gICAgY21kKGBnaXQgaW5pdCAke3J9YCwgKCkgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhcIi0+IEluaXRpYWxpemVkIGdpdCFcIik7XHJcbiAgICAgIGNoZWNrQ29tbWl0KHIpOyAgICAgIFxyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGNoZWNrQ29tbWl0KHIpOyAgICBcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrQ29tbWl0KHI6IGFueSkge1xyXG4gIGlmIChzZXR0aW5ncy5naXQgJiYgc2V0dGluZ3MuY29tbWl0KSB7XHJcbiAgICBjbWQoYGNkICR7cn0gJiYgZ2l0IGFkZCAtQSAmJiBnaXQgY29tbWl0IC1tIFwiSW5pdGlhbCBjb21taXRcImAsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCItPiBGaXJzdCBjb21taXQgY3JlYXRlZCFcIik7XHJcbiAgICAgIGlmIChzZXR0aW5ncy5odWIpIGhhc0ludGVybmV0KHIpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChzZXR0aW5ncy5odWIpIGhhc0ludGVybmV0KHIpO1xyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tIdWIocjogYW55KSB7XHJcbiAgaWYgKGhhc0h1YiAmJiBzZXR0aW5ncy5odWIpIHtcclxuICAgIGNtZChgY2QgJHtyfSAmJiBodWIgY3JlYXRlICR7c2V0dGluZ3MudGl0bGVQYXRofWAsICgpID0+IHtcclxuICAgICAgY29uc29sZS5sb2coYC0+IENyZWF0ZWQgcmVwbyBcIiR7c2V0dGluZ3MudGl0bGVQYXRofVwiIG9uIEdpdEh1YiFgKTtcclxuICAgICAgY2hlY2tQdXNoKHIpO1xyXG4gICAgfSk7XHJcbiAgfSBlbHNlIHtcclxuICAgIGV4aXRNZXNzYWdlKCk7XHJcbiAgfTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGNoZWNrUHVzaChyOiBhbnkpIHtcclxuICAgIGlmIChzZXR0aW5ncy5wdXNoKSBjbWQoYGNkICR7cn0gJiYgZ2l0IHB1c2ggb3JpZ2luIG1hc3RlcmAsICgpID0+IHsgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKFwiLT4gUHVzaGVkIGluaXRpYWwgY29tbWl0IHRvIEdpdEh1YiFcIik7XHJcbiAgICAgIGV4aXRNZXNzYWdlKCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGhhc0ludGVybmV0KHI6IGFueSkge1xyXG4gIGNvbnNvbGUubG9nKFwiLS0gQ2hlY2tpbmcgaW50ZXJuZXQgY29ubmVjdGlvbi5cIik7XHJcbiAgZG5zLnJlc29sdmUoJ3d3dy5nb29nbGUuY29tJywgKGVycjogYW55KSA9PiB7XHJcbiAgICBlcnIgPyBjb25zb2xlLmxvZyhcIi1YIEVSUk9SOiBOTyBDT05ORUNUSU9OIEVTVEFCTElTSEVELlwiKSA6IChjb25zb2xlLmxvZyhcIi0+IENvbm5lY3Rpb24gZm91bmQhXCIpLCBjaGVja0h1YihyKSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGV4aXRNZXNzYWdlKCkge1xyXG4gIGNvbnNvbGUubG9nKGBcXG5Qcm9qZWN0ICR7c2V0dGluZ3MudGl0bGV9IGhhcyBjb21wbGV0ZWQgc2V0dXAsIG5vdyBleGl0aW5nIHNjcmlwdC5cXG5gKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=